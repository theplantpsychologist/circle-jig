<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle Jig</title>
    <!---<link rel="stylesheet" href="main.css">--->

</head>
<body>
    <h2>Circle Jig</h2>
    <p>Instructions</p>
    <canvas id = "square" width = 500 height = 500>    </canvas>
    <script src="paper-core.js"></script>
    <script src="app2.js"></script>
    <script type="text/javascript" data-paper-ignore = "true">
        paper.setup(document.getElementById("square"))
        circles = [];
        flaps = [];
        console.log("html",square.width/1.5);
        function drawBorder(){
            border = new paper.Path.Rectangle(0,0,square.width/1.5,square.height/1.5);
            border.strokeColor = 'black';
            border.strokeWidth = 3;
        }
        drawBorder();
        function drawCircles(){
            for (var i=0;i<flaps.length;i++){
                circle = new paper.Path.Circle(new paper.Point(
                    flaps[i].x *square.width/1.5,
                    flaps[i].y *square.width/1.5 *-1 + square.height/1.5
                    ), 
                    flaps[i].r*square.width/1.5);
                circle.strokeColor = "black";
                circle.fillColor = flaps[i].color
                circle.strokeWidth = 1;
                circles.push(circle);
            }
        }
        drawCircles();
        //---------------main---------------
        paper.view.onFrame = function(event){
            for (var i=0; i<circles.length;i++){
                circles[i].remove();
            }
            circles = [];
            drawCircles();
            border.remove()
            drawBorder();
        }
        paper.view.draw();

    </script>
    <noscript>Please enable javascript to use this app.</noscript>
    <p>Import your .tmd5 (treemaker) file here</p>
    <input type="file" id="inputfile" name = "inputfile">
    <pre id="output"></pre>
    <script>
        fileRead();
    </script>
    <button type = button onclick="extract()">Upload</button>    
</body>
</html>